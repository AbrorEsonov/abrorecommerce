{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\user\\\\react-website\\\\abrorglamourbandixon\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"C:\\\\Users\\\\user\\\\react-website\\\\abrorglamourbandixon\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"C:\\\\Users\\\\user\\\\react-website\\\\abrorglamourbandixon\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\user\\\\react-website\\\\abrorglamourbandixon\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\user\\\\react-website\\\\abrorglamourbandixon\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\user\\\\react-website\\\\abrorglamourbandixon\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\user\\\\react-website\\\\abrorglamourbandixon\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import store from'./store';import Products from\"./components/Products\";import Filter from\"./components/Filter\";import Basket from\"./components/Basket\";import{Provider}from'react-redux';import\"./App.css\";import Footer from\"./components/Footer\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);_this=_super.call(this);_this.state={sort:'',size:'',products:[],filteredProducts:[],cartItems:[]};_this.handleChangeSort=_this.handleChangeSort.bind(_assertThisInitialized(_this));_this.handleChangeSize=_this.handleChangeSize.bind(_assertThisInitialized(_this));_this.handleAddToCart=_this.handleAddToCart.bind(_assertThisInitialized(_this));_this.handleRemoveFromCart=_this.handleRemoveFromCart.bind(_assertThisInitialized(_this));return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch(\"http://localhost:8000/products\").then(function(res){return res.json();}).then(function(data){return _this2.setState({products:data,filteredProducts:data});});if(localStorage.getItem('cartItems')){this.setState({cartItems:JSON.parse(localStorage.getItem('cartItems'))});}}},{key:\"handleChangeSort\",value:function handleChangeSort(e){this.setState({sort:e.target.value});this.listProducts();}},{key:\"handleChangeSize\",value:function handleChangeSize(e){this.setState({size:e.target.value});this.listProducts();}},{key:\"listProducts\",value:function listProducts(){var _this$state=this.state,sort=_this$state.sort,size=_this$state.size,products=_this$state.products;if(sort!==''){products.sort(function(a,b){return sort==='lowestprice'?a.price>b.price?1:-1:a.price<b.price?1:-1;});}else{products.sort(function(a,b){return a.id>b.id?1:-1;});}if(size!==''){return{filteredProducts:products.filter(function(a){return a.availableSizes.indexOf(size.toUpperCase())>=0;})};}this.setState({filteredProducts:products});}},{key:\"handleAddToCart\",value:function handleAddToCart(e,product){var cartItems=_toConsumableArray(this.state.cartItems);var productAlreadyInCart=false;cartItems.forEach(function(item){if(item.id===product.id){productAlreadyInCart=true;item.count++;}});if(!productAlreadyInCart){cartItems.push(_objectSpread(_objectSpread({},product),{},{count:1}));}this.setState({cartItems:cartItems},function(){localStorage.setItem(\"cartItems\",JSON.stringify(cartItems));});}},{key:\"handleRemoveFromCart\",value:function handleRemoveFromCart(e,item){var cartItems=this.state.cartItems.filter(function(el){return el.id!==item.id;});this.setState({cartItems:cartItems},function(){localStorage.setItem('cartItems',cartItems);});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(Provider,{store:store},/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Glamour-Bandixon - Erkaklar kiyim do'koni\"),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-8\"},/*#__PURE__*/React.createElement(Filter,{size:this.state.size,sort:this.state.sort,handleChangeSize:this.handleChangeSize,handleChangeSort:this.handleChangeSort,count:this.state.filteredProducts.length}),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(Products,{products:this.state.filteredProducts,handleAddToCart:this.handleAddToCart})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4\"},/*#__PURE__*/React.createElement(Basket,{cartItems:this.state.cartItems,handleRemoveFromCart:this.handleRemoveFromCart})))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Footer,null)));}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["C:/Users/user/react-website/abrorglamourbandixon/src/App.js"],"names":["React","Component","store","Products","Filter","Basket","Provider","Footer","App","state","sort","size","products","filteredProducts","cartItems","handleChangeSort","bind","handleChangeSize","handleAddToCart","handleRemoveFromCart","fetch","then","res","json","data","setState","localStorage","getItem","JSON","parse","e","target","value","listProducts","a","b","price","id","filter","availableSizes","indexOf","toUpperCase","product","productAlreadyInCart","forEach","item","count","push","setItem","stringify","el","length"],"mappings":"utCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,CACA,MAAOC,CAAAA,QAAP,KAAqB,uBAArB,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,OAASC,QAAT,KAAyB,aAAzB,CACA,MAAO,WAAP,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,C,GAGMC,CAAAA,G,0FACJ,cAAc,qCACZ,wBAEA,MAAKC,KAAL,CAAa,CACVC,IAAI,CAAE,EADI,CACAC,IAAI,CAAE,EADN,CACUC,QAAQ,CAAE,EADpB,CACwBC,gBAAgB,CAAE,EAD1C,CAC8CC,SAAS,CAAE,EADzD,CAAb,CAEA,MAAKC,gBAAL,CAAwB,MAAKA,gBAAL,CAAsBC,IAAtB,+BAAxB,CACA,MAAKC,gBAAL,CAAwB,MAAKA,gBAAL,CAAsBD,IAAtB,+BAAxB,CACA,MAAKE,eAAL,CAAuB,MAAKA,eAAL,CAAqBF,IAArB,+BAAvB,CACA,MAAKG,oBAAL,CAA4B,MAAKA,oBAAL,CAA0BH,IAA1B,+BAA5B,CARY,aASb,C,6EACkB,iBACjBI,KAAK,CAAC,gCAAD,CAAL,CAAwCC,IAAxC,CAA6C,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EAAhD,EACCF,IADD,CACM,SAAAG,IAAI,QAAI,CAAA,MAAI,CAACC,QAAL,CAAc,CAC1Bb,QAAQ,CAAEY,IADgB,CAE1BX,gBAAgB,CAAEW,IAFQ,CAAd,CAAJ,EADV,EAKA,GAAGE,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAH,CAAqC,CACnC,KAAKF,QAAL,CAAc,CAACX,SAAS,CAAEc,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAX,CAAZ,CAAd,EACD,CACF,C,0DAEgBG,C,CAAE,CACjB,KAAKL,QAAL,CAAc,CAACf,IAAI,CAAEoB,CAAC,CAACC,MAAF,CAASC,KAAhB,CAAd,EACA,KAAKC,YAAL,GACD,C,0DAEgBH,C,CAAE,CACjB,KAAKL,QAAL,CAAc,CAACd,IAAI,CAAEmB,CAAC,CAACC,MAAF,CAASC,KAAhB,CAAd,EACA,KAAKC,YAAL,GACD,C,mDAEW,iBACiB,KAAKxB,KADtB,CACLC,IADK,aACLA,IADK,CACAC,IADA,aACAA,IADA,CACKC,QADL,aACKA,QADL,CAEZ,GAAGF,IAAI,GAAK,EAAZ,CAAe,CACdE,QAAQ,CAACF,IAAT,CAAc,SAACwB,CAAD,CAAGC,CAAH,QAAUzB,CAAAA,IAAI,GAAK,aAAV,CAA4BwB,CAAC,CAACE,KAAF,CAAUD,CAAC,CAACC,KAAZ,CAAoB,CAApB,CAAwB,CAAC,CAArD,CACrBF,CAAC,CAACE,KAAF,CAAUD,CAAC,CAACC,KAAZ,CAAoB,CAApB,CAAwB,CAAC,CADb,EAAd,EAEQ,CAHT,IAGe,CACJxB,QAAQ,CAACF,IAAT,CAAc,SAACwB,CAAD,CAAGC,CAAH,QAAUD,CAAAA,CAAC,CAACG,EAAF,CAAOF,CAAC,CAACE,EAAT,CAAc,CAAd,CAAkB,CAAC,CAA7B,EAAd,EACF,CACD,GAAG1B,IAAI,GAAK,EAAZ,CAAe,CACb,MAAO,CAACE,gBAAgB,CAAED,QAAQ,CAAC0B,MAAT,CAAgB,SAAAJ,CAAC,QACzCA,CAAAA,CAAC,CAACK,cAAF,CAAiBC,OAAjB,CAAyB7B,IAAI,CAAC8B,WAAL,EAAzB,GAAgD,CADP,EAAjB,CAAnB,CAAP,CAGD,CACD,KAAKhB,QAAL,CAAc,CACZZ,gBAAgB,CAAED,QADN,CAAd,EAGT,C,wDAEiBkB,C,CAAGY,O,CAAS,CAC1B,GAAM5B,CAAAA,SAAS,oBAAO,KAAKL,KAAL,CAAWK,SAAlB,CAAf,CACA,GAAI6B,CAAAA,oBAAoB,CAAG,KAA3B,CACA7B,SAAS,CAAC8B,OAAV,CAAkB,SAAAC,IAAI,CAAI,CACxB,GAAGA,IAAI,CAACR,EAAL,GAAYK,OAAO,CAACL,EAAvB,CAA0B,CACxBM,oBAAoB,CAAG,IAAvB,CACAE,IAAI,CAACC,KAAL,GACD,CACF,CALD,EAMA,GAAG,CAACH,oBAAJ,CAAyB,CACvB7B,SAAS,CAACiC,IAAV,gCAAmBL,OAAnB,MAA4BI,KAAK,CAAC,CAAlC,IACD,CACD,KAAKrB,QAAL,CAAc,CACTX,SAAS,CAATA,SADS,CAAd,CAEE,UAAI,CACJY,YAAY,CAACsB,OAAb,CAAqB,WAArB,CAAkCpB,IAAI,CAACqB,SAAL,CAAenC,SAAf,CAAlC,EACD,CAJD,EAKD,C,kEAEoBgB,C,CAAGe,I,CAAM,CAC5B,GAAM/B,CAAAA,SAAS,CAAG,KAAKL,KAAL,CAAWK,SAAX,CAAqBwB,MAArB,CAA6B,SAAAY,EAAE,QAAIA,CAAAA,EAAE,CAACb,EAAH,GAAUQ,IAAI,CAACR,EAAnB,EAA/B,CAAlB,CACA,KAAKZ,QAAL,CAAc,CACZX,SAAS,CAATA,SADY,CAAd,CAEE,UAAI,CACNY,YAAY,CAACsB,OAAb,CAAqB,WAArB,CAAiClC,SAAjC,EACD,CAJC,EAKH,C,uCAEU,CACP,mBACE,oBAAC,QAAD,EAAU,KAAK,CAAEZ,KAAjB,eACD,2BAAK,SAAS,CAAC,WAAf,eACE,0EADF,cAEE,8BAFF,cAGE,2BAAK,SAAS,CAAC,KAAf,eACE,2BAAK,SAAS,CAAC,UAAf,eACE,oBAAC,MAAD,EAAQ,IAAI,CAAE,KAAKO,KAAL,CAAWE,IAAzB,CAA+B,IAAI,CAAE,KAAKF,KAAL,CAAWC,IAAhD,CAAsD,gBAAgB,CAAE,KAAKO,gBAA7E,CACA,gBAAgB,CAAE,KAAKF,gBADvB,CACyC,KAAK,CAAE,KAAKN,KAAL,CAAWI,gBAAX,CAA4BsC,MAD5E,EADF,cAGE,8BAHF,cAIC,oBAAC,QAAD,EAAU,QAAQ,CAAE,KAAK1C,KAAL,CAAWI,gBAA/B,CAAiD,eAAe,CAAE,KAAKK,eAAvE,EAJD,CADF,cAOE,2BAAK,SAAS,CAAC,UAAf,eACG,oBAAC,MAAD,EAAQ,SAAS,CAAE,KAAKT,KAAL,CAAWK,SAA9B,CAAyC,oBAAoB,CAAE,KAAKK,oBAApE,EADH,CAPF,CAHF,CADC,cAgBD,4CACI,oBAAC,MAAD,MADJ,CAhBC,CADF,CAwBD,C,iBAvGelB,S,EA0GlB,cAAeO,CAAAA,GAAf","sourcesContent":["import React, { Component } from \"react\";\nimport store from './store'\nimport Products from \"./components/Products\";\nimport Filter from \"./components/Filter\";\nimport Basket from \"./components/Basket\";\nimport { Provider } from 'react-redux'\nimport \"./App.css\";\nimport Footer from \"./components/Footer\";\n\n\nclass App extends Component {\n  constructor() {\n    super()\n  \n    this.state = {\n       sort: '', size: '', products: [], filteredProducts: [], cartItems: [] };\n    this.handleChangeSort = this.handleChangeSort.bind(this);\n    this.handleChangeSize = this.handleChangeSize.bind(this);\n    this.handleAddToCart = this.handleAddToCart.bind(this);\n    this.handleRemoveFromCart = this.handleRemoveFromCart.bind(this);\n  };\n  componentDidMount(){\n    fetch(\"http://localhost:8000/products\").then(res => res.json())\n    .then(data => this.setState({\n      products: data,\n      filteredProducts: data\n    }));\n    if(localStorage.getItem('cartItems')){\n      this.setState({cartItems: JSON.parse(localStorage.getItem('cartItems'))});\n    }\n  }\n\n  handleChangeSort(e){\n    this.setState({sort: e.target.value});\n    this.listProducts();\n  }\n\n  handleChangeSize(e){\n    this.setState({size: e.target.value});\n    this.listProducts();\n  }\n\nlistProducts(){\n  const {sort,size,products} = this.state;\n  if(sort !== ''){\n   products.sort((a,b) => (sort === 'lowestprice') ? (a.price > b.price ? 1 : -1) : \n    (a.price < b.price ? 1 : -1))\n          } else {\n             products.sort((a,b) => (a.id > b.id ? 1 : -1));\n          }\n          if(size !== ''){\n            return {filteredProducts: products.filter(a => \n              a.availableSizes.indexOf(size.toUpperCase()) >= 0\n            )}\n          }\n          this.setState({\n            filteredProducts: products\n          })\n}\n\n  handleAddToCart(e, product) {\n    const cartItems = [...this.state.cartItems];\n    let productAlreadyInCart = false;\n    cartItems.forEach(item => {\n      if(item.id === product.id){\n        productAlreadyInCart = true;\n        item.count++;\n      }\n    });\n    if(!productAlreadyInCart){\n      cartItems.push({...product, count:1})\n    }\n    this.setState({\n         cartItems\n    },()=>{\n      localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\n    })\n  }\n\n  handleRemoveFromCart(e, item) {\n    const cartItems = this.state.cartItems.filter( el => el.id !== item.id);\n    this.setState({\n      cartItems\n    },()=>{\n    localStorage.setItem('cartItems',cartItems)\n  })\n}\n\n  render() {\n    return (\n      <Provider store={store}>\n     <div className=\"container\">\n       <h1>Glamour-Bandixon - Erkaklar kiyim do'koni</h1>\n       <hr/>\n       <div className=\"row\">\n         <div className=\"col-md-8\">\n           <Filter size={this.state.size} sort={this.state.sort} handleChangeSize={this.handleChangeSize}\n           handleChangeSort={this.handleChangeSort} count={this.state.filteredProducts.length} />\n           <hr/>\n          <Products products={this.state.filteredProducts} handleAddToCart={this.handleAddToCart} />\n         </div>\n         <div className=\"col-md-4\">\n            <Basket cartItems={this.state.cartItems} handleRemoveFromCart={this.handleRemoveFromCart} />\n       </div>\n       </div> \n     </div>\n     <div>\n         <Footer  />\n       </div>\n     </Provider>\n     \n    );\n\n  }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}