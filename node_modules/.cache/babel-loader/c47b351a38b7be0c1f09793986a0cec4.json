{"ast":null,"code":"import{FETCH_PRODUCTS,FILTER_PRODUCTS_BY_SIZE,ORDER_PRODUCTS_BY_PRICE}from'./types';export var fetchProducts=function fetchProducts(){return function(dispatch){fetch(\"http://localhost:8000/products\").then(function(res){return res.json();}).then(function(data){return dispatch({type:FETCH_PRODUCTS,payload:data});});};};export var filterProducts=function filterProducts(products,size){return function(dispatch){return dispatch({type:FILTER_PRODUCTS_BY_SIZE,payload:{size:size,items:size===''?products:products.filter(function(a){return a.availableSizes.indexOf(size.toUpperCase())>=0;})}});};};export var sortProducts=function sortProducts(items,sort){return function(dispatch){var products=items.slice();if(sort!==''){products.sort(function(a,b){return sort==='lowestprice'?a.price>b.price?1:-1:a.price<b.price?1:-1;});}else{products.sort(function(a,b){return a.id>b.id?1:-1;});}return dispatch({type:ORDER_PRODUCTS_BY_PRICE,payload:{sort:sort,items:products}});};};","map":{"version":3,"sources":["C:/Users/user/react-website/abrorglamourbandixon/src/actions/productActions.js"],"names":["FETCH_PRODUCTS","FILTER_PRODUCTS_BY_SIZE","ORDER_PRODUCTS_BY_PRICE","fetchProducts","dispatch","fetch","then","res","json","data","type","payload","filterProducts","products","size","items","filter","a","availableSizes","indexOf","toUpperCase","sortProducts","sort","slice","b","price","id"],"mappings":"AAAA,OAASA,cAAT,CAAyBC,uBAAzB,CAAkDC,uBAAlD,KAAiF,SAAjF,CAEA,MAAO,IAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,SAAM,UAACC,QAAD,CAAc,CAC/CC,KAAK,CAAC,gCAAD,CAAL,CAAwCC,IAAxC,CAA6C,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EAAhD,EACGF,IADH,CACQ,SAAAG,IAAI,CAAI,CACZ,MAAOL,CAAAA,QAAQ,CAAC,CAAEM,IAAI,CAACV,cAAP,CAAuBW,OAAO,CAACF,IAA/B,CAAD,CAAf,CACD,CAHH,EAID,CAL4B,EAAtB,CAOP,MAAO,IAAMG,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,QAAD,CAAWC,IAAX,QAAoB,UAACV,QAAD,CAAa,CAC7D,MAAOA,CAAAA,QAAQ,CAAC,CACdM,IAAI,CAAET,uBADQ,CAEdU,OAAO,CAAE,CACPG,IAAI,CAAEA,IADC,CAEPC,KAAK,CAAED,IAAI,GAAK,EAAT,CAAcD,QAAd,CAAyBA,QAAQ,CAACG,MAAT,CAAgB,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACC,cAAF,CAAiBC,OAAjB,CAAyBL,IAAI,CAACM,WAAL,EAAzB,GAAgD,CAApD,EAAjB,CAFzB,CAFK,CAAD,CAAf,CAOD,CAR6B,EAAvB,CAUP,MAAO,IAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACN,KAAD,CAAQO,IAAR,QAAiB,UAAClB,QAAD,CAAa,CACxD,GAAMS,CAAAA,QAAQ,CAAGE,KAAK,CAACQ,KAAN,EAAjB,CACA,GAAGD,IAAI,GAAK,EAAZ,CAAe,CACbT,QAAQ,CAACS,IAAT,CAAc,SAACL,CAAD,CAAGO,CAAH,QAAUF,CAAAA,IAAI,GAAK,aAAV,CACtBL,CAAC,CAACQ,KAAF,CAAUD,CAAC,CAACC,KAAZ,CAAoB,CAApB,CAAwB,CAAC,CADH,CAEtBR,CAAC,CAACQ,KAAF,CAAUD,CAAC,CAACC,KAAZ,CAAoB,CAApB,CAAwB,CAAC,CAFZ,EAAd,EAGD,CAJD,IAIO,CACLZ,QAAQ,CAACS,IAAT,CAAc,SAACL,CAAD,CAAGO,CAAH,QAAUP,CAAAA,CAAC,CAACS,EAAF,CAAOF,CAAC,CAACE,EAAT,CAAc,CAAd,CAAkB,CAAC,CAA7B,EAAd,EACD,CACD,MAAOtB,CAAAA,QAAQ,CAAC,CACdM,IAAI,CAAER,uBADQ,CAEdS,OAAO,CAAE,CACPW,IAAI,CAAEA,IADC,CAEPP,KAAK,CAAEF,QAFA,CAFK,CAAD,CAAf,CAOD,CAhB2B,EAArB","sourcesContent":["import { FETCH_PRODUCTS, FILTER_PRODUCTS_BY_SIZE, ORDER_PRODUCTS_BY_PRICE } from './types'\r\n\r\nexport const fetchProducts = () => (dispatch) => {\r\n  fetch(\"http://localhost:8000/products\").then(res => res.json())\r\n    .then(data => {\r\n      return dispatch({ type:FETCH_PRODUCTS, payload:data })\r\n    })\r\n}\r\n\r\nexport const filterProducts = (products, size) => (dispatch) =>{\r\n  return dispatch({\r\n    type: FILTER_PRODUCTS_BY_SIZE,\r\n    payload: {\r\n      size: size,\r\n      items: size === '' ? products : products.filter(a => a.availableSizes.indexOf(size.toUpperCase()) >= 0)\r\n    }\r\n  })\r\n}\r\n\r\nexport const sortProducts = (items, sort) => (dispatch) =>{\r\n  const products = items.slice();\r\n  if(sort !== ''){\r\n    products.sort((a,b) => (sort === 'lowestprice') ? \r\n    (a.price > b.price ? 1 : -1) :\r\n    (a.price < b.price ? 1 : -1) )\r\n  } else {\r\n    products.sort((a,b) => (a.id > b.id ? 1 : -1));\r\n  }\r\n  return dispatch({\r\n    type: ORDER_PRODUCTS_BY_PRICE,\r\n    payload: {\r\n      sort: sort,\r\n      items: products\r\n    }\r\n  })\r\n}"]},"metadata":{},"sourceType":"module"}